(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["leaders"],{"0d80":function(e,r,a){"use strict";var t=a("67f0"),n=a.n(t);n.a},"67f0":function(e,r,a){},"7db0":function(e,r,a){"use strict";var t=a("23e7"),n=a("b727").find,o=a("44d2"),d=a("ae40"),s="find",i=!0,c=d(s);s in[]&&Array(1)[s]((function(){i=!1})),t({target:"Array",proto:!0,forced:i||!c},{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},c740:function(e,r,a){"use strict";var t=a("23e7"),n=a("b727").findIndex,o=a("44d2"),d=a("ae40"),s="findIndex",i=!0,c=d(s);s in[]&&Array(1)[s]((function(){i=!1})),t({target:"Array",proto:!0,forced:i||!c},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},f83c:function(e,r,a){"use strict";a.r(r);var t=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"leaderBoard"},[a("h2",[e._v("30-Day Leader Board")]),a("LeaderBoard",{attrs:{leaders:e.leaderBoard}}),a("hr"),a("h2",[e._v("Full Leader Board")]),a("LeaderBoard",{attrs:{leaders:e.leaderBoardMax}})],1)},n=[],o=(a("4de4"),a("7db0"),a("c740"),a("d81d"),a("96cf"),a("1da1")),d=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"leader-board"},[a("div",{staticClass:"leader-board-grid"},e._l(e.leaders,(function(r,t){return a("div",{key:r.id,staticClass:"entry"},[a("div",{staticClass:"rank"},[e._v(e._s(t+1)+".")]),a("div",{staticClass:"playerName"},[e._v(e._s(r.playerName))]),a("div",{staticClass:"score"},[e._v(" ("+e._s(r.score)+" pts "+e._s(r.createdAt)+"; "+e._s(r.gameCount)+" games) ")])])})),0)])},s=[],i={name:"LeaderBoard",props:{leaders:Array}},c=i,l=(a("0d80"),a("2877")),u=Object(l["a"])(c,d,s,!1,null,"54fd5001",null),p=u.exports,f=a("bf48");f.initialize("myappID"),f.serverURL="https://thelackthereof.org/parse";var m=f.Object.extend("GameScore"),v={components:{LeaderBoard:p},data:function(){return{leaderBoard:[],leaderBoardMax:[]}},created:function(){this.loadHighScores(),this.loadHighScoresMax()},methods:{loadHighScores:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,t,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=new Date,a.setDate(a.getDate()-30),t=new f.Query(m),t.select("playerName","score"),t.exists("playerName"),t.exists("score"),t.greaterThan("createdAt",a),t.descending("score"),t.limit(2e3),r.next=11,t.find();case 11:n=r.sent,e.leaderBoard=n.map((function(e){return{playerName:""==e.get("playerName")?"anonymous":e.get("playerName"),score:e.get("score")||0,gameCount:n.filter((function(r){var a,t;return(null===(a=r.get("playerName"))||void 0===a?void 0:a.toUpperCase())==(null===(t=e.get("playerName"))||void 0===t?void 0:t.toUpperCase())})).length,createdAt:e.createdAt.toLocaleDateString()}})),e.leaderBoard=e.leaderBoard.filter((function(r,a){return e.leaderBoard.findIndex((function(e){return e.playerName.toUpperCase()==r.playerName.toUpperCase()}))==a}));case 14:case"end":return r.stop()}}),r)})))()},loadHighScoresMax:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,t;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=new f.Query(m),a.select("playerName","score"),a.exists("playerName"),a.exists("score"),a.descending("score"),a.limit(2e4),r.next=8,a.find();case 8:t=r.sent,e.leaderBoardMax=t.map((function(e){return{playerName:""==e.get("playerName")?"anonymous":e.get("playerName"),score:e.get("score")||0,gameCount:t.filter((function(r){var a,t;return(null===(a=r.get("playerName"))||void 0===a?void 0:a.toUpperCase())==(null===(t=e.get("playerName"))||void 0===t?void 0:t.toUpperCase())})).length,createdAt:e.createdAt.toLocaleDateString()}})),e.leaderBoardMax=e.leaderBoardMax.filter((function(r,a){return e.leaderBoardMax.findIndex((function(e){return e.playerName.toUpperCase()==r.playerName.toUpperCase()}))==a}));case 11:case"end":return r.stop()}}),r)})))()}}},g=v,y=Object(l["a"])(g,t,n,!1,null,null,null);r["default"]=y.exports}}]);
//# sourceMappingURL=leaders.fbb20e05.js.map